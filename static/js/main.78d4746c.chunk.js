(this["webpackJsonpfmc-ranks"]=this["webpackJsonpfmc-ranks"]||[]).push([[0],{24:function(e,t,a){e.exports=a(47)},29:function(e,t,a){},30:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),c=a.n(l),s=(a(29),a(30),a(9)),o=a(1),m=a(3),i=a(4),u=a(5),p=function(e){var t=new URL("https://scramble-web-api.herokuapp.com/scramble/333fm");return t.searchParams.append("numberOfScrambles",e),fetch(t.href)},h=(a(31),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={scrambles:[],numberOfScrambles:3,loading:!1,error:"",image3d:!1},e.handleNumberOfScramblesChange=function(t){e.setState(Object(s.a)(Object(s.a)({},e.state),{},{numberOfScrambles:t.target.value}))},e.handleClick=function(t){t.preventDefault(),e.setLoading(!0),p(e.state.numberOfScrambles).then((function(e){return e.json()})).then((function(t){return e.setState(Object(s.a)(Object(s.a)({},e.state),{},{scrambles:t.scrambles,loading:!1,error:""}))})).catch((function(t){console.log(t),e.setLoading(!1),e.setError("Error while generating scrambles.")}))},e.setLoading=function(t){e.setState(Object(s.a)(Object(s.a)({},e.state),{},{loading:t}))},e.handleImage3d=function(){e.setState(Object(s.a)(Object(s.a)({},e.state),{},{image3d:!e.state.image3d}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h3",null,"Generate new Scrambles"))),r.a.createElement("form",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Number of Scrambles")),r.a.createElement("input",{type:"number",className:"form-control",required:!0,value:this.state.numberOfScrambles,onChange:function(t){return e.handleNumberOfScramblesChange(t)},min:1})),r.a.createElement("div",{className:"btn-group m-2",role:"group"},r.a.createElement("button",{type:"submit",className:"btn btn-group btn-primary",onClick:this.handleClick},"Generate Scrambles")))),this.state.scrambles.length>0&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-check col-12 text-right"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",value:this.state.image3d,onClick:this.handleImage3d,id:"image3dcheck"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"image3dcheck"},"3D image"))),this.state.loading&&r.a.createElement("div",{className:"row m-3"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))),!!this.state.error&&r.a.createElement("div",{className:"row m-3"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"bg-danger text-white"},r.a.createElement("span",null,this.state.error)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("table",{className:"table table-condensed"},r.a.createElement("tbody",null,!!this.state.scrambles&&this.state.scrambles.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",{className:"align-middle"},"".concat(a+1,". ").concat(t)),r.a.createElement("td",{className:"text-left"},r.a.createElement("scramble-display",{event:"333",scramble:t,visualization:e.state.image3d?"3D":"2D"})))})))))))}}]),a}(n.Component));function d(e){if(0===e.length)return 1/0;for(var t=0,a=0;a<e.length;a++){if(isNaN(e[a]))return 1/0;t+=Number(e[a])}return t/e.length}function b(e,t){for(var a=[],n=e.split(/[ ,=]+/),r=0;r<n.length;r++){var l=n[r];if(f(l)?a.push(l):a=[],a.length===t)return a}return a}function g(e,t){return b(e,t).length===t}function f(e){return!!function(e){return(""+e).match(/[0-9]+/)}(e)||("DNF"===e.toUpperCase()||"DNS"===e.toUpperCase())}function E(e){return isNaN(e)?"DNF"===e.toUpperCase()?"DNF":"DNS"===e.toUpperCase()?"DNS":void 0:isFinite(e)?e.toFixed(2):"DNF"}var v=a(13),N=function e(t,a){Object(o.a)(this,e),this.avg=d(t),this.single=function(e){for(var t=1/0,a=0;a<e.length;a++)!isNaN(e[a])&&Number(e[a])<t&&(t=Number(e[a]));return t}(t),this.results=t,this.name=a};function y(e,t){return e.avg<t.avg?-1:e.avg>t.avg?1:e.single<t.single?-1:e.single>t.single?1:0}var O=[{fontWeight:"bold",backgroundColor:"rgb(255, 204, 0)"},{fontWeight:"bold",backgroundColor:"rgb(180, 180, 180)"},{fontWeight:"bold",backgroundColor:"rgb(230, 77, 0)"}],k={backgroundColor:"rgb(57, 181, 90)"},j={backgroundColor:"rgb(230, 0, 0)"},C={backgroundColor:"rgb(0, 138, 230)"},w=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.data.filter((function(t){return g(t,e.props.attempts)})).map((function(t){var a=function(e){for(var t=[],a=e.split(/[ ,=]+/),n=0;n<a.length;n++){var r=a[n];if(f(r))break;t.push(r)}return t.join(" ")}(t),n=b(t,e.props.attempts);return new N(n,a)})).sort(y);if(0===t.length)return null;for(var a=[],n=function(e){a.push(Object(v.a)(new Set(t.map((function(t){return t.results[e]})))).filter((function(e){return!isNaN(e)})).sort())},l=0;l<this.props.attempts;l++)n(l);var c=a.map((function(e){return e[0]})),s=d(c),o=Object(v.a)(new Set(t.map((function(e){return e.avg})))).filter((function(e){return isFinite(e)})).sort(),m=50/(this.props.attempts+1),i={width:"".concat(m/this.props.columns,"%")},u={width:"".concat(10/this.props.columns,"%")},p={width:"".concat(40/this.props.columns,"%")},h=Math.ceil(t.length/this.props.columns),w=r.a.createElement("tfoot",null,r.a.createElement("tr",{style:O[0]},1===this.props.columns&&r.a.createElement("th",null),r.a.createElement("th",null,"Woaj"),c.map((function(e,t){return r.a.createElement("th",{key:t},e||"-")})),r.a.createElement("th",{style:O[0]},E(s)))),S="table table-condensed table-bordered m-0 p-0";return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:S},r.a.createElement("thead",{className:"bg-dark text-white"},r.a.createElement("tr",null,Array.from({length:this.props.columns}).map((function(t,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement("th",{style:u},"Pos"),r.a.createElement("th",{style:p},"Name"),Object(v.a)(Array.apply(null,{length:e.props.attempts})).map((function(e,t){return r.a.createElement("th",{key:t,style:i},"R".concat(t+1))})),r.a.createElement("th",{style:i},"Mean"))})))),r.a.createElement("tbody",null,Array.from({length:h}).map((function(n,l){return r.a.createElement("tr",{key:l},Array.from({length:e.props.columns}).map((function(e,n){var c=n*h+l;if(c>=t.length)return null;var s=t[c],m=s.avg,i=o.indexOf(m),u={};return i<O.length&&(u=O[i]),r.a.createElement(r.a.Fragment,{key:n},r.a.createElement("th",{style:k},0===c||0!==y(t[c],t[c-1])?c+1:"-"),r.a.createElement("td",null,s.name),s.results.map((function(e,t){var n=a[t].indexOf(e),l={};return"DNF"===e.toUpperCase()?l=j:"DNS"===e.toUpperCase()?l=C:n<O.length&&(l=O[n]),r.a.createElement("td",{key:t,style:l},e)})),r.a.createElement("td",{style:u},E(s.avg)))})))}))),1===this.props.columns&&w),this.props.columns>1&&r.a.createElement("table",{className:S},w))}}]),a}(n.Component),S=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={attempts:3,columns:1,data:[],content:""},e.handleAttemptsChange=function(t){e.setState(Object(s.a)(Object(s.a)({},e.state),{},{attempts:Number(t.target.value)}))},e.handleContentChange=function(t){e.setState(Object(s.a)(Object(s.a)({},e.state),{},{content:t.target.value}))},e.handleShrinkData=function(){var t=[];e.state.content.split("\n").forEach((function(a){g(a,e.state.attempts)&&t.push(a.trim())})),e.setState(Object(s.a)(Object(s.a)({},e.state),{},{content:t.join("\n")}))},e.handleGenerate=function(t){t.preventDefault(),e.handleShrinkData(),e.setState(Object(s.a)(Object(s.a)({},e.state),{},{data:e.state.content.split("\n")}))},e.handleReset=function(){e.setState(Object(s.a)(Object(s.a)({},e.state),{},{content:""}))},e.handleColumnsChange=function(t){e.setState(Object(s.a)(Object(s.a)({},e.state),{},{columns:Number(t.target.value)}))},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h3",null,"Generate Rank"))),r.a.createElement("form",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"input-group"},r.a.createElement("textarea",{className:"form-control",value:this.state.content,onChange:this.handleContentChange,placeholder:"Raw content",required:!0,rows:"8"})))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"btn-group m-2",role:"group"},r.a.createElement("button",{type:"submit",className:"btn btn-group btn-success",onClick:this.handleGenerate},"Generate"),r.a.createElement("button",{type:"button",className:"btn btn-group btn-primary",onClick:this.handleShrinkData},"Shrink Data"),r.a.createElement("button",{type:"reset",className:"btn btn-group btn-warning",onClick:this.handleReset},"Reset")),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Attempts")),r.a.createElement("input",{type:"number",className:"form-control",required:!0,value:this.state.attempts,onChange:this.handleAttemptsChange,min:1}),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Columns")),r.a.createElement("input",{type:"number",className:"form-control",required:!0,value:this.state.columns,onChange:this.handleColumnsChange,min:1}))))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-12"},r.a.createElement(w,{attempts:this.state.attempts,data:this.state.data,columns:this.state.columns}))))}}]),a}(n.Component);var D=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h1",null,"FMC Ranks"))),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(S,null))),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(h,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(46);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.78d4746c.chunk.js.map